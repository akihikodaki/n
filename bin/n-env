#!/usr/bin/env python3
# SPDX-License-Identifier: 0BSD

import os
import shutil
import sys

pid = str(os.getpid()).encode()
path = os.path.join(os.environb[b"XDG_RUNTIME_DIR"], b"n", pid)
os.makedirs(path)
os.environb[b"N"] = pid
os.symlink(os.getcwdb(), os.path.join(path, b"wd"))
shutil.copyfile(b"/proc/self/environ", os.path.join(path, b"environ"))
os.execvp(sys.argv[1], sys.argv[1:])
